{"version":3,"sources":["components/Nav/index.js","components/Search/index.js","components/Post/index.js","components/List/index.js","components/PieChart/index.js","components/Home/index.js","components/PostView/index.js","components/App/index.js","index.js"],"names":["Nav","react_default","a","createElement","className","react_router_dom","to","Component","Search","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","handleSubmit","bind","assertThisInitialized","handleChange","handleReset","event","onChange","target","value","_this2","searchText","url","concat","fetch","then","response","status","Promise","reject","json","output","onSubmit","results","catch","reason","preventDefault","onReset","type","placeholder","onClick","style","marginTop","Post","post","id","src","poster_path","alt","title","name","List","posts","postsArr","Array","isArray","forEach","push","Post_Post","key","PieChart","ref","createRef","createPie","d3","d","sort","createArc","innerRadius","outerRadius","colors","svg","current","data","pieChartData","_this$props","width","height","attr","path","append","selectAll","enter","i","index","text","centroid","legend","y","legendRectSize","domain","length","Home","state","queryData","API_KEY","urls","all","map","total_results","setState","fetchData","chartData","react","Nav_Nav","Search_Search","List_List","PieChart_PieChart","PostView","JSON","parse","localStorage","getItem","postId","match","params","find","overview","vote_average","release_date","first_air_date","App","result","setItem","stringify","react_router","exact","render","routeProps","Home_Home","assign","PostView_PostView","ReactDOM","App_App","document","getElementById"],"mappings":"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","file":"static/js/main.8ae48719.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\n\r\nexport default class Nav extends Component {\r\n\r\n  render() {\r\n    return(\r\n      <nav className=\"navbar\">\r\n        <div className=\"container\">\r\n          <Link to=\"/\" className=\"navbar-brand\">Film search</Link>\r\n        </div>\r\n      </nav>\r\n    );\r\n  }\r\n\r\n}","import React, { Component } from 'react';\r\n\r\n\r\nconst API_KEY = '2d94eb1d15a9cdc01a2f012d877c3d87';\r\n\r\nexport default class Search extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.handleReset = this.handleReset.bind(this);\r\n  }\r\n\r\n  handleChange(event) {\r\n    this.props.onChange(event.target.value);\r\n  }\r\n\r\n  handleSubmit(event) {\r\n\r\n    const searchText = this.props.value;\r\n    const url = `https://api.themoviedb.org/3/search/multi?api_key=${API_KEY}&language=en&query=${searchText}`;\r\n\r\n    fetch(url)\r\n      .then((response) => {\r\n        if (response.status !== 200) {\r\n          return Promise.reject();\r\n        }\r\n\r\n        return response.json();\r\n      })\r\n      .then((output) => {\r\n        this.props.onSubmit(output.results);\r\n      })\r\n      .catch((reason) => {\r\n        this.props.onSubmit(null);\r\n      });\r\n\r\n    event.preventDefault();\r\n  }\r\n\r\n  handleReset(event) {\r\n    this.props.onReset();\r\n    event.preventDefault();\r\n  }\r\n\r\n\r\n  render() {\r\n    return(\r\n      <div className=\"container\">\r\n        <div className=\"jumbotron\">\r\n          <h3 className=\"text-center\">Find films</h3>\r\n          <form onSubmit={this.handleSubmit}>\r\n            <input type=\"text\" value={this.props.value} onChange={this.handleChange} className=\"form-control\" placeholder=\"Game of thrones...\" />\r\n            <button type=\"button\" className=\"btn btn-danger\" onClick={this.handleReset} style={{ marginTop: 20 + 'px' }}>Reset search</button>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n}","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport './style.css';\r\n\r\n\r\nexport default class Post extends Component {\r\n\r\n  render() {\r\n\r\n    const { post } = this.props;\r\n    const posterUrl = 'https://image.tmdb.org/t/p/w300/';\r\n    const noPosterUrl = 'http://www.sclance.com/pngs/no-image-png/no_image_png_935227.png';\r\n\r\n    return(\r\n      <div className=\"col-sm-6 col-lg-4\">\r\n        <div className=\"post\">\r\n          <Link to={'/post/' + post.id} className=\"post__img\">\r\n            <img src={ (post.poster_path != null) ? posterUrl + post.poster_path : noPosterUrl} alt={post.title || post.name} />\r\n          </Link>\r\n          <Link to={'/post/' + post.id}>{post.title || post.name}</Link>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n}","import React, { Component } from 'react';\r\n\r\nimport Post from '../Post';\r\n\r\nexport default class List extends Component {\r\n\r\n  render() {\r\n\r\n    const { posts } = this.props;\r\n    let postsArr = [];\r\n\r\n    if ( Array.isArray(posts) ) {\r\n\r\n      posts.forEach(post => {\r\n        postsArr.push(\r\n          <Post key={post.id} post={post} />\r\n        );\r\n      });\r\n\r\n    }\r\n\r\n    return (\r\n      <div className=\"container\">\r\n        <div className=\"row\">\r\n          {postsArr}\r\n        </div>\r\n      </div>\r\n    );\r\n\r\n  }\r\n\r\n}","import React, { createRef, Component } from \"react\";\r\nimport * as d3 from \"d3\";\r\n\r\n\r\nexport default class PieChart extends Component {\r\n\r\n  constructor(props) {\r\n\r\n    super(props);\r\n\r\n    this.ref = createRef();\r\n\r\n    this.createPie = d3.pie()\r\n                       .value(d => d.value)\r\n                       .sort(null);\r\n\r\n    this.createArc = d3.arc()\r\n                       .innerRadius(props.innerRadius)\r\n                       .outerRadius(props.outerRadius);\r\n\r\n    this.colors = d3.scaleOrdinal(d3.schemeCategory10);\r\n\r\n  }\r\n\r\n  componentDidMount() {\r\n\r\n    const svg = d3.select(this.ref.current);\r\n    const data = this.createPie(this.props.pieChartData);\r\n    const { width, height, outerRadius } = this.props;\r\n    const legendRectSize = 12;\r\n    const legendSpacing = 6;\r\n\r\n    svg\r\n      .attr(\"class\", \"chart\")\r\n      .attr(\"width\", width)\r\n      .attr(\"height\", height);\r\n\r\n    const group = svg\r\n                    .append(\"g\")\r\n                    .attr(\"transform\", `translate(${outerRadius} ${outerRadius})`);\r\n\r\n    const groupWithEnter = group\r\n                            .selectAll(\"g.arc\")\r\n                            .data(data)\r\n                            .enter();\r\n\r\n    const path = groupWithEnter.append(\"g\").attr(\"class\", \"arc\");\r\n\r\n    path\r\n      .append(\"path\")\r\n      .attr(\"class\", \"arc\")\r\n      .attr(\"d\", this.createArc)\r\n      .attr(\"fill\", (d, i) => this.colors(d.index));\r\n\r\n    path\r\n      .append(\"text\")\r\n      .text(d => d.value)\r\n      .attr(\"text-anchor\", \"middle\")\r\n      .attr(\"transform\", d => `translate(${this.createArc.centroid(d)})`)\r\n      .attr(\"fill\", \"#fff\")\r\n      .attr(\"font-size\", \"9px\");\r\n\r\n    const legendGroup = svg.append(\"g\")\r\n                           .attr(\"transform\", `translate(${outerRadius} ${outerRadius})`);\r\n\r\n    const legend = legendGroup.selectAll(\".legend\")\r\n                              .data(this.createPie(this.props.pieChartData))\r\n                              .enter()\r\n                              .append(\"g\")\r\n                              .attr(\"class\", \"legend\")\r\n                              .attr(\"transform\", (d, i) => {\r\n                                const height = legendRectSize + legendSpacing;\r\n                                const offset =  height * this.colors.domain().length / 2;\r\n                                const x = -2 * legendRectSize;\r\n                                const y = i * height - offset;\r\n                                return `translate(${x}, ${y})`;\r\n                              });\r\n\r\n    legend.append(\"rect\")\r\n          .attr(\"width\", legendRectSize)\r\n          .attr(\"height\", legendRectSize)\r\n          .style(\"fill\", (d, i) => this.colors(d.index))\r\n          .style(\"stroke\", (d, i) => this.colors(d.index));\r\n\r\n    legend.append(\"text\")\r\n          .text(d => d.data.name)\r\n          .attr(\"x\", legendRectSize + legendSpacing)\r\n          .attr(\"y\", legendRectSize - legendSpacing)\r\n          .attr(\"alignment-baseline\", \"middle\")\r\n          .attr(\"fill\", \"#333\")\r\n          .attr(\"font-size\", \"14px\");\r\n\r\n  }\r\n\r\n  render() {\r\n    return <svg ref={this.ref} />;\r\n  }\r\n\r\n}","import React, { Component, Fragment } from 'react';\r\n\r\nimport Nav from '../Nav';\r\nimport Search from '../Search';\r\nimport List from '../List';\r\nimport PieChart from '../PieChart';\r\n\r\n\r\nexport default class Home extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      pieChartData: []\r\n    };\r\n\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.handleReset = this.handleReset.bind(this);\r\n  }\r\n\r\n  handleChange(value) {\r\n    this.props.onChange(value);\r\n  }\r\n\r\n  handleSubmit(value) {\r\n    this.props.onSubmit(value);\r\n  }\r\n\r\n  handleReset() {\r\n    this.props.onReset();\r\n  }\r\n\r\n  fetchData() {\r\n\r\n    const queryData = [\r\n      {\r\n        name: 'plane'\r\n      },\r\n      {\r\n        name: 'car'\r\n      },\r\n      {\r\n        name: 'train'\r\n      }\r\n    ];\r\n\r\n    const API_KEY = '2d94eb1d15a9cdc01a2f012d877c3d87';\r\n\r\n    const urls = [\r\n      `https://api.themoviedb.org/3/search/multi?api_key=${API_KEY}&language=en&query=${queryData[0].name}`,\r\n      `https://api.themoviedb.org/3/search/multi?api_key=${API_KEY}&language=en&query=${queryData[1].name}`,\r\n      `https://api.themoviedb.org/3/search/multi?api_key=${API_KEY}&language=en&query=${queryData[2].name}`\r\n    ];\r\n\r\n    Promise.all(urls.map(url =>\r\n      fetch(url)\r\n        .then(response => {\r\n          if (response.status !== 200) {\r\n            return Promise.reject();\r\n          }\r\n          return response.json();\r\n        })\r\n    ))\r\n    .then(data => {\r\n      for (let i = 0; i < data.length; i++) {\r\n        queryData[i].value = data[i].total_results;\r\n      }\r\n    })\r\n    .then(() => {\r\n      this.setState({\r\n        pieChartData: queryData\r\n      });\r\n    });\r\n\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.fetchData();\r\n  }\r\n\r\n  render() {\r\n\r\n    if ( !this.state.pieChartData.length ) return null;\r\n\r\n    const posts = this.props.posts;\r\n    const searchText = this.props.value;\r\n    const chartData = this.state.pieChartData;\r\n\r\n    return(\r\n      <Fragment>\r\n        <Nav />\r\n        <Search\r\n          value={searchText}\r\n          onChange={this.handleChange}\r\n          onSubmit={this.handleSubmit}\r\n          onReset={this.handleReset}\r\n        />\r\n        <div className=\"container\">\r\n          <div className=\"row\">\r\n            <div className=\"col-md-9\">\r\n              <List posts={posts} />\r\n            </div>\r\n            <div className=\"col-md-3\">\r\n              <h6>Ratio of movies with Plane / Car / Train in title</h6>\r\n              <PieChart\r\n                width=\"200\"\r\n                height=\"200\"\r\n                innerRadius=\"60\"\r\n                outerRadius=\"100\"\r\n                pieChartData={chartData}\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </Fragment>\r\n    );\r\n  }\r\n\r\n}","import React, { Component, Fragment } from 'react';\r\n\r\nimport Nav from '../Nav';\r\n\r\nimport './style.css';\r\n\r\nexport default class PostView extends Component {\r\n\r\n  render() {\r\n\r\n    const posts = JSON.parse(localStorage.getItem('posts'))\r\n    const postId = this.props.match.params.id;\r\n    const post = posts.find(post => +post.id === +postId);\r\n    const posterUrl = 'https://image.tmdb.org/t/p/w500/';\r\n    const noPosterUrl = 'http://www.sclance.com/pngs/no-image-png/no_image_png_935227.png';\r\n\r\n    return(\r\n      <Fragment>\r\n        <Nav />\r\n        <div className=\"container\">\r\n          <div className=\"post-view row\">\r\n            <div className=\"post-view__img col-md-5 col-lg-4\">\r\n              <img src={ (post.poster_path != null) ? posterUrl + post.poster_path : noPosterUrl } alt={ post.title || post.name } />\r\n            </div>\r\n            <div className=\"post-view__info col-md-7 col-lg-8\">\r\n              <h2 className=\"post-view__title\">{ post.title || post.name }</h2>\r\n              <p className=\"post-view__desc\">{ post.overview }</p>\r\n              { post.vote_average ? (<div className=\"post-view__meta\"><strong>Rating:</strong> { post.vote_average }</div>) : ('') }\r\n              { post.release_date || post.first_air_date ? (<div className=\"post-view__meta\"><strong>Date:</strong> { post.release_date || post.first_air_date }</div>) : ('') }\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </Fragment>\r\n    );\r\n  }\r\n\r\n}","import React, { Component } from 'react';\r\nimport { HashRouter as Router, Route } from 'react-router-dom';\r\n\r\nimport Home from '../Home';\r\nimport PostView from '../PostView';\r\n\r\n\r\nexport default class App extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      value: localStorage.getItem('searchText') !== null ? localStorage.getItem('searchText') : '',\r\n      result: JSON.parse(localStorage.getItem('posts'))\r\n    };\r\n\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n    this.handleReset = this.handleReset.bind(this);\r\n  }\r\n\r\n  handleChange(value) {\r\n    this.setState({\r\n      value: value\r\n    });\r\n  }\r\n\r\n  handleSubmit(value) {\r\n    this.setState({\r\n      result: value\r\n    });\r\n  }\r\n\r\n  handleReset() {\r\n    this.setState({\r\n      value: '',\r\n      result: null\r\n    });\r\n  }\r\n\r\n  render() {\r\n\r\n    const posts = this.state.result;\r\n    const searchText = this.state.value;\r\n\r\n    localStorage.setItem('posts', JSON.stringify(posts));\r\n    localStorage.setItem('searchText', searchText);\r\n\r\n    return(\r\n      <Router>\r\n        <Route\r\n          exact\r\n          path=\"/\"\r\n          render={(routeProps) => (\r\n            <Home\r\n              {...routeProps}\r\n              value={searchText}\r\n              onReset={this.handleReset}\r\n              onChange={this.handleChange}\r\n              onSubmit={this.handleSubmit}\r\n              posts={posts} />\r\n          )} />\r\n        <Route\r\n          path=\"/post/:id\"\r\n          render={(routeProps) => (\r\n            <PostView\r\n              {...routeProps}\r\n              posts={posts} />\r\n          )} />\r\n      </Router>\r\n    );\r\n  }\r\n\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './components/App';\r\n\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport './style.css';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}