(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{24:function(e,t,a){e.exports=a(37)},33:function(e,t,a){},34:function(e,t,a){},36:function(e,t,a){},37:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),l=a(21),r=a.n(l),c=a(2),i=a(3),o=a(5),u=a(4),m=a(7),h=a(6),p=a(12),d=a(11),b=function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement("nav",{className:"navbar"},s.a.createElement("div",{className:"container"},s.a.createElement(p.b,{to:"/",className:"navbar-brand"},"Film search")))}}]),t}(n.Component),v=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).handleSubmit=a.handleSubmit.bind(Object(m.a)(a)),a.handleChange=a.handleChange.bind(Object(m.a)(a)),a.handleReset=a.handleReset.bind(Object(m.a)(a)),a}return Object(h.a)(t,e),Object(i.a)(t,[{key:"handleChange",value:function(e){this.props.onChange(e.target.value)}},{key:"handleSubmit",value:function(e){var t=this,a=this.props.value,n="https://api.themoviedb.org/3/search/multi?api_key=".concat("2d94eb1d15a9cdc01a2f012d877c3d87","&language=en&query=").concat(a);fetch(n).then(function(e){return 200!==e.status?Promise.reject():e.json()}).then(function(e){t.props.onSubmit(e.results)}).catch(function(e){t.props.onSubmit(null)}),e.preventDefault()}},{key:"handleReset",value:function(e){this.props.onReset(),e.preventDefault()}},{key:"render",value:function(){return s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"jumbotron"},s.a.createElement("h3",{className:"text-center"},"Find films"),s.a.createElement("form",{onSubmit:this.handleSubmit},s.a.createElement("input",{type:"text",value:this.props.value,onChange:this.handleChange,className:"form-control",placeholder:"Game of thrones..."}),s.a.createElement("button",{type:"button",className:"btn btn-danger",onClick:this.handleReset,style:{marginTop:"20px"}},"Reset search"))))}}]),t}(n.Component),g=(a(33),function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.post;return s.a.createElement("div",{className:"col-sm-6 col-md-4 col-lg-3"},s.a.createElement("div",{className:"post"},s.a.createElement(p.b,{to:"/post/"+e.id,className:"post__img"},s.a.createElement("img",{src:null!=e.poster_path?"https://image.tmdb.org/t/p/w300/"+e.poster_path:"http://www.sclance.com/pngs/no-image-png/no_image_png_935227.png",alt:e.title||e.name})),s.a.createElement(p.b,{to:"/post/"+e.id},e.title||e.name)))}}]),t}(n.Component)),f=function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.posts,t=[];return Array.isArray(e)&&e.forEach(function(e){t.push(s.a.createElement(g,{key:e.id,post:e}))}),s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},t))}}]),t}(n.Component),j=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).handleSubmit=a.handleSubmit.bind(Object(m.a)(a)),a.handleChange=a.handleChange.bind(Object(m.a)(a)),a.handleReset=a.handleReset.bind(Object(m.a)(a)),a}return Object(h.a)(t,e),Object(i.a)(t,[{key:"handleChange",value:function(e){this.props.onChange(e)}},{key:"handleSubmit",value:function(e){this.props.onSubmit(e)}},{key:"handleReset",value:function(){this.props.onReset()}},{key:"render",value:function(){var e=this.props.posts,t=this.props.value;return s.a.createElement(n.Fragment,null,s.a.createElement(b,null),s.a.createElement(v,{value:t,onChange:this.handleChange,onSubmit:this.handleSubmit,onReset:this.handleReset}),s.a.createElement(f,{posts:e}))}}]),t}(n.Component),O=(a(34),function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=JSON.parse(localStorage.getItem("posts")),t=this.props.match.params.id,a=e.find(function(e){return+e.id===+t});return console.log(a),s.a.createElement(n.Fragment,null,s.a.createElement(b,null),s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"post-view row"},s.a.createElement("div",{className:"post-view__img col-md-5 col-lg-4"},s.a.createElement("img",{src:null!=a.poster_path?"https://image.tmdb.org/t/p/w500/"+a.poster_path:"http://www.sclance.com/pngs/no-image-png/no_image_png_935227.png",alt:a.title||a.name})),s.a.createElement("div",{className:"post-view__info col-md-7 col-lg-8"},s.a.createElement("h2",{className:"post-view__title"},a.title||a.name),s.a.createElement("p",{className:"post-view__desc"},a.overview),a.vote_average?s.a.createElement("div",{className:"post-view__meta"},s.a.createElement("strong",null,"Rating:")," ",a.vote_average):"",a.release_date||a.first_air_date?s.a.createElement("div",{className:"post-view__meta"},s.a.createElement("strong",null,"Date:")," ",a.release_date||a.first_air_date):""))))}}]),t}(n.Component)),E=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={value:localStorage.getItem("searchText"),result:JSON.parse(localStorage.getItem("posts"))},a.handleChange=a.handleChange.bind(Object(m.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(m.a)(a)),a.handleReset=a.handleReset.bind(Object(m.a)(a)),a}return Object(h.a)(t,e),Object(i.a)(t,[{key:"handleChange",value:function(e){this.setState({value:e})}},{key:"handleSubmit",value:function(e){this.setState({result:e})}},{key:"handleReset",value:function(){this.setState({value:"",result:null})}},{key:"render",value:function(){var e=this,t=this.state.result,a=this.state.value;return localStorage.setItem("posts",JSON.stringify(t)),localStorage.setItem("searchText",a),s.a.createElement(p.a,null,s.a.createElement(d.a,{exact:!0,path:"/",render:function(n){return s.a.createElement(j,Object.assign({},n,{value:a,onReset:e.handleReset,onChange:e.handleChange,onSubmit:e.handleSubmit,posts:t}))}}),s.a.createElement(d.a,{path:"/post/:id",render:function(e){return s.a.createElement(O,Object.assign({},e,{posts:t}))}}))}}]),t}(n.Component);a(35),a(36);r.a.render(s.a.createElement(E,null),document.getElementById("root"))}},[[24,1,2]]]);
//# sourceMappingURL=main.3d6d44ff.chunk.js.map